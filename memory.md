### 2025-12-14 14:23 - Established Go parity plan with detailed beads backlog referencing Node repo. Epic mmm-1 now encodes execution order; each task notes to consult epic; P1 audit (mmm-14) blocks epic.
### 2025-12-14 15:03 - bd --no-db ignores blockers in ready output; rely on issue dependencies/epic order instead of ready list until DB bug fixed.
### 2025-12-14 15:27 - New session kicked off; need to identify next beads issue for Go port despite ready cmd bug—cross-reference epic ordering before picking work.
### 2025-12-14 15:37 - Completed mmm-14 audit; logged gaps for config schema (mmm-18), Makefile (mmm-19), locale detection (mmm-20), HTTP retry leaks (mmm-21), init TUI networking (mmm-22), and environment metadata (mmm-23). Prioritize these before jumping into parity work.
### 2025-12-14 15:49 - mmm-18 fixed: ModsJson.mods now uses []models.Mod (config entries) instead of lock-style ModInstall; default config seeded with []models.Mod. README updated to reflect per-mod allowVersionFallback (no global flag).
### 2025-12-14 16:01 - mcp beads ready/list endpoints crash when dependencies metadata incomplete; inspect .beads/issues.jsonl directly until schema bug fixed.
### 2025-12-14 16:03 - CLI bd --no-db ready works; API-only failure scoped to MCP. Use CLI for ready list until fix.
### 2025-12-14 16:21 - mmm-23 now active; release prepare script rewrites internal/environment.go placeholders (version + API keys + HELP_URL) but Go build still hardcodes REPL_* defaults—need ldflags-driven versioning + env helpers wired into CLI/help output.
### 2025-12-14 16:30 - Wired HELP_URL helper + Cobra help footer mirroring Node CLI; ended up keeping helper as placeholder-only (no runtime env lookup) because release scripts still replace REPL_* directly; tests cover footer contains REPL_HELP_URL.
### 2025-12-14 17:08 - Ready list reviewed; plan to tackle mmm-21 (retry body leak) next since it's the lone P1 bug blocking network stability work.
### 2025-12-14 17:12 - mmm-21 resolved via `drainAndClose` helper + regression test checking retry responses are drained/closed; remembered to cover nil bodies to keep coverage at 100%.
### 2025-12-14 17:27 - Ready queue now elevates mmm-17 (telemetry lifecycle redesign) as sole P1; plan to tackle it next before moving on to CLI/global flag work.
### 2025-12-14 17:37 - Reworking telemetry lifecycle for mmm-17: introduce Init/Capture/Shutdown APIs with session-scoped PostHog client, signal-driven flushing in `main.go`, and new `MMM_DISABLE_TELEMETRY` opt-out plus docs/telemetry.md for future TUI guidance.
### 2025-12-14 17:48 - Added shared `internal/lifecycle` signal manager so telemetry (and future subsystems) register handlers once; `main.go` now triggers lifecycle instead of calling telemetry directly.
### 2025-12-14 18:06 - Explicit reminder: must adhere to provided instructions and guidelines perfectly.
### 2025-12-14 19:05 - Reinforced: instructions are absolute (no edits to historical docs, keep user-facing docs simple) and must be followed without improvisation; refer to memory before every action.
### 2025-12-14 20:29 - Pulled latest Engineer/Beads/LongTermMemory/ADR/Golang guidance; `bd --no-db ready --json` shows open work including Makefile portability (mmm-19), locale detection bug (mmm-20), and init TUI minecraft client injection/offline flow (mmm-22), plus epic-ordered parity tasks starting at mmm-2.
### 2025-12-14 20:33 - Verified mmm-19 is a real issue on Unix shells: `make build` produces host-compiled binaries for darwin/windows outputs because `@set GOOS=...` doesn’t export env vars in sh; `od -N 4` shows all artifacts start with `7f 45 4c 46` (ELF), including `build/windows/mmm.exe`. Note: current `run` target is `go run .` so the issue description’s old run-path claim appears stale.
### 2025-12-14 20:38 - mmm-19 closed after fixing Makefile cross-platform build env handling and confirming artifacts; user verified on Windows as well.
### 2025-12-14 20:43 - Follow-up: Windows `make build` can fail when cross-compiling linux/darwin due to CGO defaulting on (runtime/cgo errors without a cross C toolchain). Updated Makefile to disable CGO for cross builds by default via CROSS_CGO_ENABLED?=0 and per-target CGO_ENABLED export; tracked as mmm-24 (in progress pending user re-verify on Windows).
### 2025-12-14 20:44 - mmm-24 closed after user confirmed `make build` succeeds cleanly on Windows with CGO disabled for cross builds by default.
### 2025-12-14 20:45 - Next planned work: start epic mmm-1 execution order at mmm-2 (global flags/config helpers) now that build/test/coverage gates and telemetry lifecycle are in place.
### 2025-12-14 21:04 - TS reference (/tmp/mmm) uses commander with global options: `-c, --config <MODLIST_JSON>` default `./modlist.json`; `-q, --quiet` suppresses output and forces non-interactive behavior by erroring instead of prompting in interactions; `-d, --debug` enables debug logging. Logger behavior: `log()` prints if not quiet OR forceShow OR debug; `debug()` prints only when debug; errors use commander `program.error(..., exitCode)`. Go mmm-2 should mirror semantics without introducing runtime/context or store proxies; define persistent flags on root and let subcommands read flags via Cobra.
### 2025-12-14 21:12 - Implemented mmm-2 per KISS: root Cobra now defines -c/--config, -q/--quiet, -d/--debug directly; removed runtime/context injection and store proxy; added internal/logger with TS-like quiet/debug semantics; added internal/config SaveConfiguration/SaveLockFile helpers; updated Makefile `test` to `go test ./...` while keeping coverage gating on internal; verification passed (make test / make coverage-enforce / make build).
### 2025-12-14 21:28 - Refactored internal/config into a cohesive module: introduced config.Metadata (config path + derived lock/mods-folder paths) and split responsibilities across defaults/io/lock/metadata files; removed earlier save.go/config.go legacy entrypoints. Verified `make test`, `make coverage-enforce` (100%), `make build`.
### 2025-12-14 21:31 - Tweaked naming to be domain-first: renamed io.go/io_test.go to config.go/config_test.go (lock.go remains lock-focused). Verified `make test`, `make coverage-enforce` (100%), `make build`.
### 2025-12-14 21:37 - User direction: default loader should be Fabric for now; gameVersion default ideally resolves to latest Minecraft version (but should live in init flow, with offline fallback). Created mmm-25 to remove hard-coded defaults and rely on init/user input long-term; updated DefaultConfig loader to Fabric.
### 2025-12-14 21:44 - Wired minecraft.GetLatestVersion into config init (InitConfig now accepts a minecraft Doer and uses it to seed GameVersion). Added minecraft.ClearManifestCache and test coverage to manage manifest caching deterministically in tests; all make targets still green with 100% coverage.
### 2025-12-14 21:46 - Removed nil-guards for required dependencies (minecraft client in config.InitConfig) to reduce cyclomatic complexity; treat Doer as mandatory and keep behavior deterministic via ClearManifestCache in tests.
### 2025-12-14 21:51 - Removed DefaultConfig() (avoid shared defaults helper); InitConfig now inlines temporary defaults and sets gameVersion via minecraft.GetLatestVersion with explicit fallback. Tests now use explicit literals instead of reusing values from code under test.
### 2025-12-14 21:54 - User clarified: no default gameVersion is allowed. Updated config.InitConfig to require minecraft.GetLatestVersion (error if unavailable/empty); tests updated; 100% coverage preserved.
### 2025-12-14 21:56 - Further refinement: InitConfig now fetches latest version before constructing config (fail-fast), avoiding any post-construction mutation of GameVersion.
### 2025-12-14 21:58 - Per user direction, removed latest==\"\" guard in InitConfig to reduce cyclomatic complexity; treat nil error from GetLatestVersion as always yielding a valid latest release. Kept fail-fast behavior on errors; tests updated.
### 2025-12-14 22:18 - Simplified internal/config further by making afero.Fs a required param for config/lock functions (removed variadic filesystem args and InitFilesystem-style fallback), reducing defensive branching since this is a single application.
### 2025-12-14 22:24 - Fixed Windows behavior for config.Metadata.ModsFolderPath: treat paths starting with `/` or `\\` as rooted/absolute so they aren’t incorrectly joined under the config directory; tests/coverage still green.
### 2025-12-14 22:27 - Added Windows-only metadata test to cover drive-letter absolute paths, plus a rooted forward-slash test, to keep 100% coverage on Windows for ModsFolderPath absolute detection.
### 2025-12-14 22:28 - Closed mmm-2 after implementing Cobra global flags, logger abstraction, and cohesive config module refactor with strict latest-version init and cross-platform path handling; all verification targets passing with 100% coverage.
### 2025-12-14 22:51 - Checked `bd --no-db ready --json`; no P0/P1 items surfaced. Next work per epic mmm-1 execution order is mmm-3 (finish `init` command with persistence + quiet-mode semantics). Consider quick-drive-by bugfix mmm-20 (locale detection empty strings) if we want a small warm-up change before the larger init persistence work.
### 2025-12-14 22:54 - Claimed mmm-3 and started reviewing `docs/commands/init.md` + current Go init TUI. Noted: current TUI only covers loader/game-version, doesn’t persist config/lock, and `gameVersion` model uses `http.DefaultClient` directly; Node reference repo at `/tmp/mmm` is currently missing and must be cloned per epic before finalizing behavior parity.
### 2025-12-14 22:59 - Per user request, split Bubble Tea init interaction work out of mmm-3; created new ticket `mmm-1.1` (“Init command: Bubble Tea interactive flow”) as a child of epic `mmm-1`, discovered-from `mmm-3`.
### 2025-12-14 23:00 - Alignment for mmm-3: implement init as flags-only for now; if any required init flags are missing, error with guidance to provide `-l/-g/-r/-m` (no stdin prompts, no TUI). Interactive flow deferred to mmm-1.1; recorded in mmm-3 notes.
### 2025-12-15 11:20 - Session resumed after disruption. Repo state: branch `go` ahead by 18 commits, with local modifications only to `.beads/issues.jsonl` + `memory.md`. Next pickup remains `mmm-3` (in_progress): implement non-TUI, flags-only `init` persistence/overwrite + --quiet semantics; Node reference repo may need recloning at `/tmp/mmm` before parity checks.
### 2025-12-15 11:28 - Started implementing mmm-3: switched `cmd/mmm/init` from Bubble Tea Run to non-TUI `RunE` that requires `-l/-g/-r/-m`, validates loader/release-types/mods-folder + Minecraft version, and writes `modlist.json` + empty lock file (overwrite prompt gated by --quiet).
### 2025-12-15 11:31 - mmm-3 progress: added cmd-level unit tests for init persistence + overwrite/new-path behaviors; updated `docs/commands/init.md` to reflect current flags-only Go behavior; verified `go fmt ./...`, `make test`, `make coverage-enforce` (100%), and `make build`; cloned Node reference repo to `/tmp/mmm` for parity checks.
### 2025-12-15 11:41 - Refined mmm-3 init implementation to be more Cobra-native: swapped loader/release-types to typed pflag values (VarP) so validation happens during flag parsing, added shell completions, and removed manual flag-get helpers. Kept flags non-required to support future TUI supplying missing values; init still errors with a single message when required init inputs are missing in non-interactive mode.
### 2025-12-15 11:44 - User clarified init defaults: only loader is required; gameVersion defaults to latest via minecraft module, allowed release types default to [release], and mods folder defaults to "mods". This supersedes earlier "no default gameVersion" direction.
### 2025-12-15 11:48 - Implemented init defaults in Cobra flag declarations: `--game-version` defaults to `latest` (resolved via minecraft module at runtime), `--release-types` defaults to `release`, and `--mods-folder` defaults to `mods`; init now only requires `--loader`.
### 2025-12-15 11:51 - Created Beads issue `mmm-26` to decide/implement desired behavior when the mods folder path does not exist (create vs prompt vs error; quiet semantics; keep path resolution consistent). Linked as discovered-from `mmm-3`.
### 2025-12-15 11:57 - Updated `docs/commands/init.md` to comply with new user-facing documentation guidelines: removed future-facing notes and rewrote in second person to reflect current init behavior and defaults.
### 2025-12-15 11:58 - User feedback: current `docs/commands/init.md` style/content is not landing; compare against Node README init section and align tone/structure where appropriate.
### 2025-12-15 12:04 - Updated `docs/commands/init.md` to match the new conversational user-doc tone guidelines: example-first, short paragraphs, and a flags table; removed spec-style sections.
### 2025-12-15 12:05 - Doc tweak: removed `-c/--config` from the `init` example command since the default config path should be the common case.
### 2025-12-15 12:10 - User feedback: my initial `init` doc rewrites were not empathetic/usable enough; user updated `docs/commands/init.md` directly to a better standard. Ask user to point out what specifically improved so I can apply the same tone/structure across other command docs without rework.
### 2025-12-15 12:11 - Empathy/tone takeaways from the improved `docs/commands/init.md`: lead with user outcome + default location; add a “when you use this” sentence; keep a single minimal example; include one actionable “if this fails, do this” recovery hint (offline latest-version); present flags in a table with clear allowed values + concrete examples; define a key term section (“Loaders…”) and list supported values.
### 2025-12-15 12:15 - User preference: avoid curly quotes and non-ASCII “smart” punctuation in user-facing docs (use plain ASCII quotes and hyphens; avoid non-breaking hyphens/en-dashes/em-dashes).
### 2025-12-15 12:21 - Docs structure updated: internal command specs moved to `docs/specs/` (e.g., `docs/specs/init.md` retains behaviour/edge-cases format). `docs/commands/` is now user-facing docs and must follow the conversational tone + empathy + plain ASCII guidelines from AGENTS.md.
### 2025-12-15 12:25 - README strategy: start removing embedded command docs from root `README.md` and link out to `docs/commands/*.md` instead (better for keeping README small and for future Docusaurus). Implemented for INIT and tracked follow-up as Beads `mmm-27`.
### 2025-12-15 12:27 - User preference for root README: do not keep redundant per-command blurbs once the TOC links to the user-facing docs; remove the `### INIT` section entirely (TOC link is enough).
### 2025-12-15 12:28 - Created Beads epic `mmm-28` to implement a Docusaurus docs site following the pattern used by https://github.com/meza/Stonecraft, using domain minecraftmodmanager.com, and sourcing user-facing docs from `docs/commands`.
### 2025-12-15 12:29 - Closed `mmm-3` per user request after init persistence + defaults/flags + quiet/overwrite behavior landed and verification targets were green.
### 2025-12-15 12:40 - mmm-26 alignment: keep init non-interactive for now and fail fast when the mods folder is missing or points to a file (quiet mode included); updated specs/user docs and added tests.
### 2025-12-15 13:05 - mmm-26 follow-up: user clarified specs under docs/specs are not living docs; avoid editing them. go mod tidy and make test with GOPROXY=direct GOSUMDB=off still fail because outbound HTTPS to module sources is blocked with CONNECT 403, so verification needs offline deps or a reachable proxy.

### 2025-12-15 13:18 - Internet access restored; go mod tidy now succeeds with default proxy, and verification gates pass (make test/coverage-enforce/build) for mmm-26 branch.

### 2025-12-15 13:28 - Installed bd v0.30.0 manually from the GitHub release tarball (npm postinstall download failed with ENETUNREACH) and placed the binary in /usr/local/bin for Beads CLI use.
### 2025-12-15 13:28 - Closed mmm-26 via bd --no-db close with reason "Implemented fail-fast mods folder handling; tests/docs updated"; no code changes needed beyond .beads sync.
