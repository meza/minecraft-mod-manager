{"id":"mmm-1","title":"Go CLI reaches Node feature parity","description":"Track all work required to bring the new Go CLI up to parity with the established Node implementation. This includes implementing every documented command (`init`, `add`, `install`, `update`, `list`, `change`, `test`, `prune`, `scan`, `remove`), wiring shared CLI features such as global flags, config management, telemetry, update checks, and ensuring mod configuration/lock handling works end-to-end.\n\nImplementation note: for every task under this epic, ensure the original Node repository at https://github.com/meza/minecraft-mod-manager is available at /tmp/mmm (clone it if missing) and use it as the canonical behavioral reference.\n\nExecution order (follow unless blockers/bugs force a change):\n1. `mmm-2` – global CLI flags/config helpers\n2. `mmm-3` – finish init with actual file persistence\n3. `mmm-4` – list command\n4. `mmm-5` – add command\n5. `mmm-6` – install command\n6. `mmm-7` – update command\n7. `mmm-8` – test command\n8. `mmm-9` – change command\n9. `mmm-10` – prune command\n10. `mmm-11` – scan command\n11. `mmm-12` – remove command\n12. `mmm-13` – telemetry + update notifications\n\nThis ordering encodes the dependency chain while we’re constrained to bd’s `--no-db` mode (which ignores blockers in ready lists). Adjust only with explicit justification.","status":"open","priority":2,"issue_type":"epic","created_at":"2025-12-14T14:05:24.625721222Z","updated_at":"2025-12-14T14:18:13.298002714Z","dependencies":[{"issue_id":"mmm-1","depends_on_id":"mmm-14","type":"blocks","created_at":"0001-01-01T00:00:00Z","created_by":""}]}
{"id":"mmm-10","title":"Implement prune command with .mmmignore support","description":"Implement the `prune` command so users can delete unmanaged files from the mods directory. This requires parsing `.mmmignore`, comparing filesystem contents to `modlist-lock.json`, and prompting (unless `--force` or `--quiet`).","acceptance_criteria":"- `mmm prune` exists with `--force` and honors quiet/debug flags.\n- Command respects `.mmmignore` glob patterns and skips files ending with `.disabled` as documented.\n- Without `--force`, prompt the user before deleting; in quiet mode without force, abort with a warning.\n- Deletes only files not present in the lock file and reports what was removed.\n- Tests cover ignore handling, confirmation logic, quiet-mode behavior, and deletion results.\n","notes":"Reminder: consult epic mmm-1 for the canonical Node reference repo path and execution-order guidance before working on this task.","status":"open","priority":2,"issue_type":"feature","created_at":"2025-12-14T14:08:02.300690178Z","updated_at":"2025-12-14T14:19:39.903423627Z","dependencies":[{"issue_id":"mmm-10","depends_on_id":"mmm-1","type":"parent-child","created_at":"0001-01-01T00:00:00Z","created_by":""},{"issue_id":"mmm-10","depends_on_id":"mmm-2","type":"blocks","created_at":"0001-01-01T00:00:00Z","created_by":""},{"issue_id":"mmm-10","depends_on_id":"mmm-6","type":"blocks","created_at":"0001-01-01T00:00:00Z","created_by":""}]}
{"id":"mmm-11","title":"Implement scan command for unmanaged mods","description":"Port the `scan` command so it inspects the mods directory (respecting `.mmmignore` and `.disabled` suffixes), calculates SHA-1 hashes, queries the preferred platform for matches, and optionally writes discoveries to config/lock (`--add`).","acceptance_criteria":"- `mmm scan` exists with options `--prefer` (default modrinth) and `--add`.\n- Command groups detected files into recognized vs unknown, printing summaries similar to the Node behavior.\n- When `--add` (or user confirmation) is used, updates config + lock with the discovered mods.\n- Honors quiet mode (no prompts) and debug logging.\n- Tests cover ignore handling, Modrinth/CurseForge lookup flows, and `--add` persistence.\n","notes":"Reminder: consult epic mmm-1 for the canonical Node reference repo path and execution-order guidance before working on this task.","status":"open","priority":2,"issue_type":"feature","created_at":"2025-12-14T14:08:17.392641555Z","updated_at":"2025-12-14T14:19:43.497076406Z","dependencies":[{"issue_id":"mmm-11","depends_on_id":"mmm-1","type":"parent-child","created_at":"0001-01-01T00:00:00Z","created_by":""},{"issue_id":"mmm-11","depends_on_id":"mmm-2","type":"blocks","created_at":"0001-01-01T00:00:00Z","created_by":""},{"issue_id":"mmm-11","depends_on_id":"mmm-5","type":"blocks","created_at":"0001-01-01T00:00:00Z","created_by":""},{"issue_id":"mmm-11","depends_on_id":"mmm-6","type":"blocks","created_at":"0001-01-01T00:00:00Z","created_by":""}]}
{"id":"mmm-12","title":"Implement remove command for deleting mods","description":"Implement `mmm remove` so users can remove one or more mods (with glob support) from both the config and filesystem, with a `--dry-run` mode. The command should resolve patterns, delete matching files if present, update the lock file, and log skipped/missing entries without failing the whole operation.","acceptance_criteria":"- `mmm remove \u003cmods...\u003e` exists with `--dry-run` flag and honors quiet/debug modes.\n- Glob/pattern handling matches Node semantics (e.g., partial names, quoted strings for spaces).\n- For each resolved mod, remove its lock entry and delete the file (unless `--dry-run`). Missing files are logged but not treated as errors.\n- Command exits non-zero only for unrecoverable errors (config missing, invalid patterns, etc.).\n- Tests cover dry-run output, actual deletion, glob resolution, and missing file handling.\n","notes":"Reminder: consult epic mmm-1 for the canonical Node reference repo path and execution-order guidance before working on this task.","status":"open","priority":2,"issue_type":"feature","created_at":"2025-12-14T14:08:31.773739433Z","updated_at":"2025-12-14T14:19:48.308142019Z","dependencies":[{"issue_id":"mmm-12","depends_on_id":"mmm-1","type":"parent-child","created_at":"0001-01-01T00:00:00Z","created_by":""},{"issue_id":"mmm-12","depends_on_id":"mmm-2","type":"blocks","created_at":"0001-01-01T00:00:00Z","created_by":""},{"issue_id":"mmm-12","depends_on_id":"mmm-5","type":"blocks","created_at":"0001-01-01T00:00:00Z","created_by":""}]}
{"id":"mmm-13","title":"Wire telemetry and update notifications","description":"Connect the existing PostHog telemetry client and GitHub release check into the CLI. Each command should record success/failure events with context, and the application should notify users about newer releases after command execution, matching the Node CLI behavior.","acceptance_criteria":"- Telemetry helper initializes once per run, captures per-command events (including success flag, error messages, basic config stats), and flushes on exit.\n- Commands use a consistent wrapper to emit telemetry without duplicating logic.\n- After successful command execution, the CLI performs a GitHub release check and prints the yellow-highlighted upgrade message when a newer version exists; failures to reach GitHub are silent as in Node.\n- Environment variables (`POSTHOG_API_KEY`, `HELP_URL`, etc.) influence behavior as documented.\n- Tests cover telemetry payload construction and release-check branching (newer version vs current).\n","notes":"Reminder: consult epic mmm-1 for the canonical Node reference repo path and execution-order guidance before working on this task.","status":"open","priority":2,"issue_type":"feature","created_at":"2025-12-14T14:08:48.041531904Z","updated_at":"2025-12-14T14:19:53.461821165Z","dependencies":[{"issue_id":"mmm-13","depends_on_id":"mmm-1","type":"parent-child","created_at":"0001-01-01T00:00:00Z","created_by":""},{"issue_id":"mmm-13","depends_on_id":"mmm-2","type":"blocks","created_at":"0001-01-01T00:00:00Z","created_by":""},{"issue_id":"mmm-13","depends_on_id":"mmm-7","type":"blocks","created_at":"0001-01-01T00:00:00Z","created_by":""}]}
{"id":"mmm-14","title":"Audit Go codebase for baseline technical debt","description":"Before implementing the feature-parity epic, perform a focused codebase audit to identify any immediate technical debt, inconsistent patterns, missing docs/tests, or stale files that could slow down the upcoming work. Document findings and propose remediation tasks if needed.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-14T14:20:50.554524492Z","updated_at":"2025-12-14T15:56:25.370778182Z","closed_at":"2025-12-14T15:56:25.370778182Z","dependencies":[{"issue_id":"mmm-14","depends_on_id":"mmm-1","type":"parent-child","created_at":"0001-01-01T00:00:00Z","created_by":""}]}
{"id":"mmm-15","title":"Fix fmt.Errorf vet failures in init game version validation","description":"`go test ./...` currently fails because `cmd/mmm/init/gameVersion.go` calls `fmt.Errorf(i18n.T(...))`, and Go 1.24's vet disallows non-constant format strings. Adjust `isValidMinecraftVersion` to use constant format strings (e.g., `fmt.Errorf(\"%s\", i18n.T(...))`) or otherwise satisfy vet so the command package builds cleanly.","notes":"fmt.Errorf calls in cmd/mmm/init now use constant format strings and go test ./cmd/mmm/init passes.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-14T14:28:30.839401172Z","updated_at":"2025-12-14T14:38:35.509271009Z","closed_at":"2025-12-14T14:38:35.509271009Z","dependencies":[{"issue_id":"mmm-15","depends_on_id":"mmm-1","type":"parent-child","created_at":"0001-01-01T00:00:00Z","created_by":""}]}
{"id":"mmm-16","title":"Stabilize telemetry tests by decoupling machine ID lookup","description":"`internal/telemetry/telemetry_test.go` fails in CI because `machineid.ID()` returns an empty string on this platform. Introduce dependency injection or environment overrides so tests can stub the machine ID, and ensure the telemetry client does not depend on unavailable hardware identifiers.","notes":"Telemetry machine ID logic now injectable/fallback-safe; go test ./... and make coverage pass.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-14T14:28:39.79401769Z","updated_at":"2025-12-14T14:46:24.189827081Z","closed_at":"2025-12-14T14:46:24.189827081Z","dependencies":[{"issue_id":"mmm-16","depends_on_id":"mmm-1","type":"parent-child","created_at":"0001-01-01T00:00:00Z","created_by":""}]}
{"id":"mmm-17","title":"Redesign telemetry lifecycle with init/flush hooks","description":"Telemetry should match the Node CLI’s behavior and support future multi-command TUI sessions without impacting user flows. Design and implement a lifecycle where telemetry is initialized once per application execution (session), captures multiple command events safely, and flushes on shutdown. Ensure failures remain silent (best-effort), allow injection/testing of machine IDs, and expose hooks so the entry point can defer cleanup before exiting or on Ctrl+C. Document the behavior and provide a clear API for future commands to emit telemetry.","acceptance_criteria":"- Telemetry package exposes explicit Init/Capture/Shutdown (or equivalent) APIs so the CLI entry point can control when telemetry starts and flushes.\n- Initialization happens once per application execution; multiple commands/events can be captured without reinitializing.\n- Shutdown flushes/closes gracefully (with a short timeout) and runs on normal exit and Ctrl+C.\n- Telemetry failures (init/enqueue/flush) are logged at debug level but never interrupt the user flow.\n- Tests can override machine IDs and telemetry clients, with helpers to reset global state between runs.\n- Documentation explains telemetry behavior, opt-out env vars, and lifecycle hooks for future TUI work.","notes":"Reminder: read epic mmm-1 for Node reference repo and execution order before working on telemetry lifecycle redesign.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-14T14:58:44.702771579Z","updated_at":"2025-12-14T19:17:37.8415082Z","closed_at":"2025-12-14T19:17:37.8415082Z","dependencies":[{"issue_id":"mmm-17","depends_on_id":"mmm-1","type":"parent-child","created_at":"0001-01-01T00:00:00Z","created_by":""},{"issue_id":"mmm-17","depends_on_id":"mmm-2","type":"parent-child","created_at":"0001-01-01T00:00:00Z","created_by":""}]}
{"id":"mmm-18","title":"Fix modlist config schema to match Node format","description":"`internal/models/ModsJson` currently defines `mods` as `[]ModInstall` (lock entries) and lacks top-level `allowVersionFallback`, so `config.InitializeConfigFile` and JSON parsing cannot represent the structure documented in README and docs/commands/init.md. This prevents us from serializing allowed release types, per-mod pins, or fallback defaults. Update the model to use a dedicated config entry type (matching the Node schema), add the root fallback flag, and ensure default config generation plus tests reflect the correct layout.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-14T15:36:13.926570371Z","updated_at":"2025-12-14T15:55:16.403597724Z","closed_at":"2025-12-14T15:49:18.041529477Z","dependencies":[{"issue_id":"mmm-18","depends_on_id":"mmm-1","type":"parent-child","created_at":"0001-01-01T00:00:00Z","created_by":""},{"issue_id":"mmm-18","depends_on_id":"mmm-14","type":"discovered-from","created_at":"0001-01-01T00:00:00Z","created_by":""}]}
{"id":"mmm-19","title":"Repair Makefile run/build targets","description":"The Makefile’s core targets are currently broken on Unix-like systems:\n- `run` executes `go run cmd/minecraft-mod-manager/main.go`, but the only entrypoints are `main.go` at repo root and `cmd/mmm`; this target fails immediately.\n- The cross-platform build jobs rely on `@set GOOS=darwin` style commands (Windows syntax), so `make build` silently compiles for the host OS instead of the intended target and never creates the `build/\u003cos\u003e/mmm` artifacts.\nBring the Makefile in line with the repo layout (call `go run ./main.go` or `go run ./cmd/mmm` as appropriate) and use portable environment overrides (`GOOS=darwin GOARCH=amd64 $(GO_BUILD) ...`). Include regression tests/docs (e.g., CI snippet or README update) showing how to invoke the fixed targets.","status":"open","priority":2,"issue_type":"bug","created_at":"2025-12-14T15:36:24.683262892Z","updated_at":"2025-12-14T15:36:24.683262892Z","dependencies":[{"issue_id":"mmm-19","depends_on_id":"mmm-14","type":"discovered-from","created_at":"0001-01-01T00:00:00Z","created_by":""}]}
{"id":"mmm-2","title":"Implement CLI globals and shared config handling","description":"Add support for the global flags documented in `README.md` (`--config`, `--quiet`, `--debug`) and make the Cobra root command load configuration paths consistently for subcommands. Introduce a reusable logger/output abstraction that respects quiet/debug settings, and ensure both configuration (`modlist.json`) and lock (`modlist-lock.json`) helpers can be injected wherever needed (but do not change command behavior yet).","acceptance_criteria":"- Root command accepts `--config`, `--quiet`, and `--debug` flags with the documented semantics.\n- Logger/output helper suppresses normal logs in quiet mode and includes extra context when `--debug` is set.\n- Config path flag propagates to subcommands via `cmd.Flags().StringP(...)` or equivalent.\n- Helpers exist to load/save both config and lock files given the configured path so later commands can reuse them.\n- Basic unit tests cover flag parsing and quiet/debug behavior.\n","notes":"See epic mmm-1 for reference repo and execution-order guidance.","status":"open","priority":2,"issue_type":"feature","created_at":"2025-12-14T14:05:38.593381854Z","updated_at":"2025-12-14T14:19:04.05350218Z","dependencies":[{"issue_id":"mmm-2","depends_on_id":"mmm-1","type":"parent-child","created_at":"0001-01-01T00:00:00Z","created_by":""},{"issue_id":"mmm-2","depends_on_id":"mmm-17","type":"blocks","created_at":"0001-01-01T00:00:00Z","created_by":""}]}
{"id":"mmm-20","title":"Fix locale detection to avoid empty locales","description":"`internal/i18n/getUserLocales` preallocates `locales := make([]string, len(detectedLocales))` and then appends to it, producing leading empty strings. When the detected locales list is non-empty, the returned slice starts with \"\"; go-i18n treats this as an unknown locale and fails to fall back properly. Rewrite the function to reserve capacity without pre-filling (e.g., `make([]string, 0, len(...))`) and add unit tests covering LANG unset + locale provider returning multiple values.","status":"open","priority":2,"issue_type":"bug","created_at":"2025-12-14T15:36:30.314752936Z","updated_at":"2025-12-14T15:36:30.314752936Z","dependencies":[{"issue_id":"mmm-20","depends_on_id":"mmm-14","type":"discovered-from","created_at":"0001-01-01T00:00:00Z","created_by":""}]}
{"id":"mmm-21","title":"Close response bodies before RLHTTPClient retries","description":"In `internal/httpClient/httpClient.go`, the retry loop reuses the same `http.Request` and immediately retries on 5xx responses without draining/closing the previous body. This leaves the TCP connection open and eventually exhausts the client's idle pool. Update the logic to always `io.Copy(io.Discard, response.Body)` and `response.Body.Close()` before sleeping and retrying, and add regression tests that simulate repeated 5xx responses to ensure no goroutine leaks and the client respects retry limits.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-14T15:36:35.532505089Z","updated_at":"2025-12-14T17:25:56.730009179Z","closed_at":"2025-12-14T17:25:56.730009179Z","dependencies":[{"issue_id":"mmm-21","depends_on_id":"mmm-14","type":"discovered-from","created_at":"0001-01-01T00:00:00Z","created_by":""}]}
{"id":"mmm-22","title":"Inject Mojang client into init TUI and handle offline flows","description":"`cmd/mmm/init/gameVersion.go` calls `minecraft.GetLatestVersion`/`GetAllMineCraftVersions`/`IsValidVersion` directly with `http.DefaultClient` each time the TUI starts. This bypasses the rate-limited client, makes init hang for users without internet access, and is almost impossible to unit-test. Update the TUI models to accept a `minecraft` service (or at least a Doer) so we can reuse the shared rate-limited HTTP client, stub it in tests, and obey docs/commands/init.md’s rule to gracefully fall back when the manifest cannot be fetched. Add tests proving that offline mode still lets the user input versions manually.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-14T15:36:43.909459675Z","updated_at":"2025-12-14T15:36:43.909459675Z","dependencies":[{"issue_id":"mmm-22","depends_on_id":"mmm-14","type":"discovered-from","created_at":"0001-01-01T00:00:00Z","created_by":""}]}
{"id":"mmm-23","title":"Expose build metadata and HELP_URL in environment helpers","description":"`internal/environment/environment.go` only surfaces MODRINTH/CURSEFORGE/POSTHOG keys plus a hard-coded `AppVersion()` that always returns `REPL_VERSION`. Docs (docs/requirements-go-port.md) and the Node CLI rely on a `HELP_URL` env var, and the HTTP clients are supposed to embed the real binary version in their User-Agent. Add helper(s) for HELP_URL (and any other documented envs), switch `AppVersion` to read from a variable set via `-ldflags` at build time, and update the Makefile/docs/tests accordingly so `mmm version` and API calls expose the release tag instead of the placeholder.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-14T15:36:49.262506181Z","updated_at":"2025-12-14T17:04:03.877485799Z","closed_at":"2025-12-14T17:04:03.877485799Z","dependencies":[{"issue_id":"mmm-23","depends_on_id":"mmm-14","type":"discovered-from","created_at":"0001-01-01T00:00:00Z","created_by":""}]}
{"id":"mmm-3","title":"Finish init command with persistence","description":"Make `mmm init` actually write `modlist.json` and `modlist-lock.json`, supporting both interactive prompts and CLI flags for loader, game version, release types, and mods folder. Validate inputs as described in `docs/commands/init.md`, reuse the config helpers introduced earlier, and ensure rerunning `init` respects quiet mode (e.g., failing fast when a config already exists).","acceptance_criteria":"- Running `mmm init` guided prompts collect loader, game version, release types, and mods folder, then create `modlist.json` and `modlist-lock.json`.\n- CLI flags (`-l/-g/-r/-m`) bypass prompts and produce the same file content as the Node version for identical answers.\n- Existing config handling matches README rules: prompts to overwrite unless `--quiet`, and quiet mode errors if file exists.\n- Mods folder validation and Minecraft version verification behave as in docs (latest release fallback, validation optional when manifest unavailable).\n- Tests cover both interactive-free (flag-driven) flows and file-writing behavior using in-memory filesystems.\n","notes":"Reminder: read epic mmm-1 for reference repo instructions and work sequencing before starting.","status":"open","priority":2,"issue_type":"feature","created_at":"2025-12-14T14:05:46.325362604Z","updated_at":"2025-12-14T14:19:09.953387963Z","dependencies":[{"issue_id":"mmm-3","depends_on_id":"mmm-1","type":"parent-child","created_at":"0001-01-01T00:00:00Z","created_by":""},{"issue_id":"mmm-3","depends_on_id":"mmm-2","type":"blocks","created_at":"0001-01-01T00:00:00Z","created_by":""}]}
{"id":"mmm-4","title":"Add list command to display managed mods","description":"Implement the `list` command described in `docs/commands/list.md`. It should load the configured `modlist.json`/lock file, determine whether each mod's file is present in the mods folder, and print a formatted list (respecting quiet/debug modes). Include telemetry for the total mod count.","acceptance_criteria":"- `mmm list` is available (with aliases `l`/`ls`) and honors global flags.\n- Output lists mods alphabetically with indicators for installed vs missing files, matching the Node CLI semantics.\n- Command errors cleanly when config or lock files are missing/invalid.\n- PostHog telemetry is emitted with the total mod count for successful runs.\n- Unit tests cover config loading, missing files, and telemetry invocation.\n","notes":"Reminder: consult epic mmm-1 for the canonical Node reference repo path and execution-order guidance before working on this task.","status":"open","priority":2,"issue_type":"feature","created_at":"2025-12-14T14:06:14.548483351Z","updated_at":"2025-12-14T14:19:15.064792027Z","dependencies":[{"issue_id":"mmm-4","depends_on_id":"mmm-1","type":"parent-child","created_at":"0001-01-01T00:00:00Z","created_by":""},{"issue_id":"mmm-4","depends_on_id":"mmm-2","type":"blocks","created_at":"0001-01-01T00:00:00Z","created_by":""},{"issue_id":"mmm-4","depends_on_id":"mmm-3","type":"blocks","created_at":"0001-01-01T00:00:00Z","created_by":""}]}
{"id":"mmm-5","title":"Implement add command for Modrinth/CurseForge mods","description":"Port the `add` command (docs/commands/add.md) so users can add a mod by platform + ID, optionally pinning a version and enabling fallback. This should query the appropriate repository (Modrinth/CurseForge) using the existing clients, download the file into the mods folder, and update both `modlist.json` and `modlist-lock.json` accordingly.","acceptance_criteria":"- `mmm add \u003cplatform\u003e \u003cid\u003e` exists with aliases and options `--version` and `--allow-version-fallback` matching the Node behavior.\n- Command validates platform input, handles project-not-found errors, and prompts/aborts coherently in quiet mode.\n- Downloads selected files via the HTTP downloader, writes them to the mods folder, and records hash/download metadata in the lock file.\n- Updates the config entry for the added mod (including optional per-mod release types/fallback/version pin).\n- Includes unit/integration tests covering Modrinth and CurseForge happy paths plus error cases.\n","notes":"Reminder: consult epic mmm-1 for the canonical Node reference repo path and execution-order guidance before working on this task.","status":"open","priority":2,"issue_type":"feature","created_at":"2025-12-14T14:06:30.213591416Z","updated_at":"2025-12-14T14:19:18.756898143Z","dependencies":[{"issue_id":"mmm-5","depends_on_id":"mmm-1","type":"parent-child","created_at":"0001-01-01T00:00:00Z","created_by":""},{"issue_id":"mmm-5","depends_on_id":"mmm-2","type":"blocks","created_at":"0001-01-01T00:00:00Z","created_by":""},{"issue_id":"mmm-5","depends_on_id":"mmm-3","type":"blocks","created_at":"0001-01-01T00:00:00Z","created_by":""}]}
{"id":"mmm-6","title":"Implement install command to reconcile lockfile","description":"Bring over the `install` behavior described in `docs/commands/install.md`: read config/lock, detect unmanaged files, redownload missing or mismatched mods using platform repositories, and update the lockfile. Respect `.mmmignore` during filesystem scans, and fail with actionable errors when manual files are detected.","acceptance_criteria":"- `mmm install` exists (alias `i`), honoring global flags and `.mmmignore` patterns.\n- Command scans the mods directory, halts with an error listing unmanaged files (and remedial instructions) unless `scan` has resolved them.\n- For each configured mod, validates the on-disk hash, downloads when necessary, and updates the lockfile with current metadata.\n- Quiet mode suppresses prompts; debug mode includes extra diagnostics.\n- Tests cover unmanaged-file detection, hash mismatch re-downloads, and lockfile updates.\n","notes":"Reminder: consult epic mmm-1 for the canonical Node reference repo path and execution-order guidance before working on this task.","status":"open","priority":2,"issue_type":"feature","created_at":"2025-12-14T14:06:45.125360255Z","updated_at":"2025-12-14T14:19:22.077428612Z","dependencies":[{"issue_id":"mmm-6","depends_on_id":"mmm-1","type":"parent-child","created_at":"0001-01-01T00:00:00Z","created_by":""},{"issue_id":"mmm-6","depends_on_id":"mmm-2","type":"blocks","created_at":"0001-01-01T00:00:00Z","created_by":""},{"issue_id":"mmm-6","depends_on_id":"mmm-5","type":"blocks","created_at":"0001-01-01T00:00:00Z","created_by":""}]}
{"id":"mmm-7","title":"Implement update command for newer mod releases","description":"Port the `update` command so it first performs an `install` consistency check, then queries each configured mod for newer releases that match the loader, release type, and game version. When updates exist, download new files, clean up old ones, and refresh the lock/config entries while respecting pinned versions.","acceptance_criteria":"- `mmm update` exists (alias `u`) and runs `install` internally before checking for newer files.\n- Skips mods pinned to a specific version, and logs if no updates are available.\n- On success, downloads replacements, removes superseded jars, and updates lock + config metadata atomically.\n- Handles download failures by keeping the previous file/lock untouched and surfacing a clear error.\n- Includes tests covering pinned mods, update detection, and failure rollback.\n","notes":"Reminder: consult epic mmm-1 for the canonical Node reference repo path and execution-order guidance before working on this task.","status":"open","priority":2,"issue_type":"feature","created_at":"2025-12-14T14:07:04.247698107Z","updated_at":"2025-12-14T14:19:26.165669795Z","dependencies":[{"issue_id":"mmm-7","depends_on_id":"mmm-1","type":"parent-child","created_at":"0001-01-01T00:00:00Z","created_by":""},{"issue_id":"mmm-7","depends_on_id":"mmm-2","type":"blocks","created_at":"0001-01-01T00:00:00Z","created_by":""},{"issue_id":"mmm-7","depends_on_id":"mmm-6","type":"blocks","created_at":"0001-01-01T00:00:00Z","created_by":""}]}
{"id":"mmm-8","title":"Implement test command for Minecraft version viability","description":"Implement the `test` command per `docs/commands/test.md`: resolve a target game version (explicit or latest), query every configured mod for compatibility, and exit with status 0/1/2 based on results. Handle API failures according to ADR 0006 (assume user input is valid when manifests fail).","acceptance_criteria":"- `mmm test [game_version]` exists (alias `t`) and defaults to `latest` using the Minecraft manifest helper.\n- Returns exit code 2 if the requested version matches the currently configured version, 1 if any mods are missing support, and 0 otherwise.\n- Outputs missing mod details when compatibility fails, honoring quiet/debug options.\n- Uses ADR 0006 behavior: retries via the rate limiter and assumes string validity if manifest cannot be fetched.\n- Includes tests for each exit code path and manifest failure handling.\n","notes":"Reminder: consult epic mmm-1 for the canonical Node reference repo path and execution-order guidance before working on this task.","status":"open","priority":2,"issue_type":"feature","created_at":"2025-12-14T14:07:19.657999372Z","updated_at":"2025-12-14T14:19:32.283884218Z","dependencies":[{"issue_id":"mmm-8","depends_on_id":"mmm-1","type":"parent-child","created_at":"0001-01-01T00:00:00Z","created_by":""},{"issue_id":"mmm-8","depends_on_id":"mmm-2","type":"blocks","created_at":"0001-01-01T00:00:00Z","created_by":""},{"issue_id":"mmm-8","depends_on_id":"mmm-5","type":"blocks","created_at":"0001-01-01T00:00:00Z","created_by":""}]}
{"id":"mmm-9","title":"Implement change command for switching Minecraft versions","description":"Port the `change` command workflow: verify the target version is viable (unless `--force`), update `modlist.json` with the new `gameVersion`, purge existing mod jars, and trigger a fresh `install` for the new version. Enforce exit codes per docs and respect `--force`.","acceptance_criteria":"- `mmm change [game_version]` exists with `--force` flag and matches README behavior.\n- Command reuses the `test` logic to verify compatibility unless forced; exits with code 2 when changing to the current version.\n- On success, removes previously installed mod files, updates config, and runs `install` to fetch the correct builds.\n- Force mode proceeds despite incompatibilities but logs skipped mods clearly.\n- Tests cover normal, force, same-version, and failure scenarios.\n","notes":"Reminder: consult epic mmm-1 for the canonical Node reference repo path and execution-order guidance before working on this task.","status":"open","priority":2,"issue_type":"feature","created_at":"2025-12-14T14:07:40.123960043Z","updated_at":"2025-12-14T14:19:36.375302327Z","dependencies":[{"issue_id":"mmm-9","depends_on_id":"mmm-1","type":"parent-child","created_at":"0001-01-01T00:00:00Z","created_by":""},{"issue_id":"mmm-9","depends_on_id":"mmm-2","type":"blocks","created_at":"0001-01-01T00:00:00Z","created_by":""},{"issue_id":"mmm-9","depends_on_id":"mmm-6","type":"blocks","created_at":"0001-01-01T00:00:00Z","created_by":""},{"issue_id":"mmm-9","depends_on_id":"mmm-8","type":"blocks","created_at":"0001-01-01T00:00:00Z","created_by":""}]}
